<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Check Case Status">3a1153dbdbda1010a458cd3f299619e1</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"17c133fec8c349ddbe3ca92f0f4b5d2c","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"17c133fec8c349ddbe3ca92f0f4b5d2c"}],"goals":[{"name":"Check Case Status","trigger_id":"17c133fec8c349ddbe3ca92f0f4b5d2c","nodes":[{"type":"StartGoal","goal_id":"7d0816710c414bf092bff9c229cb5011","greeting_msg":{"type":"String","mode":"string","value":""},"id":"37fa9d3710fa4ec4a87e22a8e8f39107","name":"Start","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"TerminateGoal","goal_id":"7d0816710c414bf092bff9c229cb5011","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"626d1d65ed6f48419255a2f393c99bc5","name":"End","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"(0) I am done","expression":{"type":"Applicability","mode":"query","value":"additional_action=0"},"id":"e8baed1bc46143bbbcb1a865bed6e499","name":"(0) I am done"},{"type":"Branch","label":"Check Another Case (2)","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.additional_action=='2';\n})()\n"},"id":"eaff1efc3fe64abb9187d83be1e50435","name":"Check Another Case (2)"},{"type":"Branch","label":"(3) Contact an agent","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.additional_action=='3';\n})()\n"},"id":"bd819573426d4815a595d9b7c9ae4398","name":"(3) Contact an agent"},{"type":"Branch","label":"(1) Update Case","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.additional_action=='1';\n})()\n"},"id":"ac84c326b5b04da9b658d62ba49236c8","name":"(1) Update Case"}],"id":"ac066c7e3078490db4fead7da13ab7a0","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Continue","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    gs.info(\"has case :\"+vaInputs.your_case);\n    vaVars.index = 0;\n    vaVars.caseid = vaInputs.your_case;\n    return !gs.nil(vaInputs.your_case);\n})()"},"id":"54610507f71f425b8165c0ec7465c778","name":"Continue"},{"type":"Branch","label":"Always","expression":{"type":"Applicability","mode":"query","value":"your_caseISEMPTY"},"id":"e30f8d39708142ca80f072cb23169dd1","name":"Always"}],"id":"2016c7d0ae9549d79042fad2ed520836","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    var tablename = \"sn_customerservice_case\";\n    if (new GlidePluginManager().isActive(\"com.snc.csm.order\")) {\n        var gr1 = new GlideRecord(\"csm_order_case\");\n        if (gr1.get(vaVars.caseid)) {\n            tablename = \"csm_order_case\";\n        }\n    }\n    vaVars.tablename = tablename;\n    vaVars.LiveAgent_case = vaVars.caseid;\n})()\n","id":"acf2606601a84033aa019535b3585373","name":"Determine Table Name","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Here’s the case you’ve selected: \", vaContext.getRequesterLang())"},"id":"9e68aa69df8c4e72bbaa3cf66af1130d","name":"Case Select Ack","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    return gs.getMessage(\"I'm now transferring you to an agent to help you with case {0}\" ,vaInputs.your_case.number);\n})()\n"},"id":"7a0a424839e344358582fae41af5f1b3","name":"Connect to Agent Ack","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    vaSystem.connectToAgent();\n})()\n","id":"8a562796b5dc4be2a11df71dd056a33d","name":"Connect To Agent","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"sn_customerservice_case","variable_id":"01139fd76ea7459799433d8829ae4c11","fields":["short_description","state","priority","product","asset"],"id":"ec22ab524c27410d9536af9638808253","name":"Case card OOB","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"variable"}},{"type":"ReferenceChoiceInputPrompt","mode":"glide_record","id":"06b0cdccf23c413eb0f3044adc47dc61","name":"your case","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"01139fd76ea7459799433d8829ae4c11","message":{"type":"String","mode":"string","value":"Please pick the case you want to check:"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","name":"case","allow_text_input":true,"use_confirmation_prompt":false},"expression_mode":"simple","no_options_found_message":{"type":"String","mode":"string","value":"No Records Found"},"condition":{"type":"Condition","mode":"glide_query","value":"active=true"}},{"type":"LibraryCall","library_topic_name":"Update Case","library_topic_id":"8b976515b767330024f1b948ee11a982","parameter-mappings":[{"parameter-name":"case_sys_id","value":{"type":"String","mode":"string","value":"{{vaInputs.your_case}}"}},{"parameter-name":"enable_product_update","value":{"type":"String","mode":"string","value":"false"}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"case_sys_id","main_topic_mapped_variable_name":"case_sys_id"}],"id":"1f873a0525fa45058edcf7add1fb6516","name":"Update Case","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"b6ca2259637c42318e3d5d8e8a09d599","name":"Additional Action","goal_id":"7d0816710c414bf092bff9c229cb5011","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"53c5450a9e0d468da52912f29e805643","message":{"type":"String","mode":"string","value":"Here are some additional actions you can take:"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    options.push({ 'value': '1', 'label': gs.getMessage('Update {0}', [vaInputs.your_case.number])});\n    options.push({ 'value': '2', 'label': gs.getMessage('Check another case') });\n    options.push({ 'value': '3', 'label': gs.getMessage('Contact an agent') });\n    options.push({ 'value': '0', 'label': gs.getMessage('I\\'m done') });\n    return options;    \n})()","no_options_found_message":{"type":"String","mode":"string","value":"No Additional Actions found!"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    options.push({ 'value': '1', 'label': gs.getMessage('Update {0}', [vaInputs.your_case.number])});\n    options.push({ 'value': '2', 'label': gs.getMessage('Check another case') });\n    options.push({ 'value': '3', 'label': gs.getMessage('Contact an agent') });\n    options.push({ 'value': '0', 'label': gs.getMessage('I\\'m done') });\n    return options;    \n})()"}}],"edges":[{"type":"Edge","source_node_id":"ec22ab524c27410d9536af9638808253","target_node_id":"b6ca2259637c42318e3d5d8e8a09d599","id":"d3936701def34cd3bf419f8eb77bfdf6"},{"type":"Edge","source_node_id":"1f873a0525fa45058edcf7add1fb6516","target_node_id":"b6ca2259637c42318e3d5d8e8a09d599","id":"554297f24ac84438818ae444849c522b"},{"type":"Edge","source_node_id":"06b0cdccf23c413eb0f3044adc47dc61","target_node_id":"2016c7d0ae9549d79042fad2ed520836","id":"22cf0925745844679f99b8de2db864c7"},{"type":"Edge","source_node_id":"ac066c7e3078490db4fead7da13ab7a0","target_node_id":"626d1d65ed6f48419255a2f393c99bc5","branch_id":"e8baed1bc46143bbbcb1a865bed6e499","id":"355e4599eaf349bb9138bbe82af3a934","name":"e8baed1bc46143bbbcb1a865bed6e499"},{"type":"Edge","source_node_id":"ac066c7e3078490db4fead7da13ab7a0","target_node_id":"06b0cdccf23c413eb0f3044adc47dc61","branch_id":"eaff1efc3fe64abb9187d83be1e50435","id":"693e24b21dcb49b7b0b667c153e07ba6","name":"eaff1efc3fe64abb9187d83be1e50435"},{"type":"Edge","source_node_id":"2016c7d0ae9549d79042fad2ed520836","target_node_id":"acf2606601a84033aa019535b3585373","branch_id":"54610507f71f425b8165c0ec7465c778","id":"9df98fcbac214ccf8a7001f02c62842b","name":"54610507f71f425b8165c0ec7465c778"},{"type":"Edge","source_node_id":"acf2606601a84033aa019535b3585373","target_node_id":"9e68aa69df8c4e72bbaa3cf66af1130d","id":"2c3a63792e4243a2b6754cf3f037420f"},{"type":"Edge","source_node_id":"ac066c7e3078490db4fead7da13ab7a0","target_node_id":"7a0a424839e344358582fae41af5f1b3","branch_id":"bd819573426d4815a595d9b7c9ae4398","id":"c4ccd073b0d24a7a9d722b04cae0d66a","name":"bd819573426d4815a595d9b7c9ae4398"},{"type":"Edge","source_node_id":"7a0a424839e344358582fae41af5f1b3","target_node_id":"8a562796b5dc4be2a11df71dd056a33d","id":"6af5a66eb45f4e3e97606664debf2181"},{"type":"Edge","source_node_id":"8a562796b5dc4be2a11df71dd056a33d","target_node_id":"626d1d65ed6f48419255a2f393c99bc5","id":"d660d154eb574325a3f9750d2070a7d1"},{"type":"Edge","source_node_id":"9e68aa69df8c4e72bbaa3cf66af1130d","target_node_id":"ec22ab524c27410d9536af9638808253","id":"fac414d436884624b6d0c2a452ea36f1"},{"type":"Edge","source_node_id":"37fa9d3710fa4ec4a87e22a8e8f39107","target_node_id":"06b0cdccf23c413eb0f3044adc47dc61","id":"1fbe59fc39f441318d102c899d98a6e1"},{"type":"Edge","source_node_id":"2016c7d0ae9549d79042fad2ed520836","target_node_id":"626d1d65ed6f48419255a2f393c99bc5","branch_id":"e30f8d39708142ca80f072cb23169dd1","id":"a8ac30f2884b4ef5978256d8b9ca55ab","name":"e30f8d39708142ca80f072cb23169dd1"},{"type":"Edge","source_node_id":"ac066c7e3078490db4fead7da13ab7a0","target_node_id":"1f873a0525fa45058edcf7add1fb6516","branch_id":"ac84c326b5b04da9b658d62ba49236c8","id":"415ed93ed1cc41efaa6b3d64407671ab","name":"ac84c326b5b04da9b658d62ba49236c8"},{"type":"Edge","source_node_id":"b6ca2259637c42318e3d5d8e8a09d599","target_node_id":"ac066c7e3078490db4fead7da13ab7a0","id":"cfc6d8a5b8df435382b341a51f3bd4a1"}],"id":"7d0816710c414bf092bff9c229cb5011"}],"script_variables":[{"type":"String","name":"case_list","id":"2a022a28cd6b4e0eb790f66c70844a5f"},{"type":"String","name":"caseid","id":"64f20b6ec8b849a78784fcf24ec0cf1d"},{"type":"String","name":"imageId","id":"92fdaaba7c8c4582a7b4f6edf73f8b53"},{"type":"String","name":"index","id":"59cc8a8008664628b384f5adca5b6ae0"},{"type":"String","name":"tablename","id":"248b31b0b5ef4fe790e8d3fb71170fbe"},{"type":"String","name":"LiveAgent_case","value":{"type":"String","mode":"string"},"id":"264d47ae6b314cff964fb8775824317a"},{"type":"String","name":"portal","value":{"type":"String","mode":"script","value":"(function execute() {\n    return vaContext.portal == undefined ? null: vaContext.portal;\n})()"},"id":"468734c4f5e2415b8ec2a9a340f05b91"}],"glide_variables":[{"type":"Reference","table":"sn_customerservice_case","reference_qualifier_condition":"active=true","id":"01139fd76ea7459799433d8829ae4c11","name":"your_case"},{"type":"Choice","choices":[],"id":"53c5450a9e0d468da52912f29e805643","name":"additional_action","table":""},{"type":"String","name":"case_sys_id","id":"25985a64dac340d29bc32ae5be07fe4d"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":["sn_customerservice.customer","sn_customerservice.consumer","virtual_agent_admin","admin","sn_customerservice.proxy_contact"],"scope":"cf50453a53f41300f4d2ddeeff7b12cb","domain":"global","id":"13726a5df8451300964f8ada0264c07c","name":"Check Case Status","key_phrases":["Check Case Status","status","check status","issue status","update case","current status","state","current state"],"nlu_provider":"64c023c17300330021a044764df6a70e","nlu_model":"sn_csm_nlu_Customer_Service_NLU_Model","nlu_model_label":"","nlu_intent":"CheckCaseStatus","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"b28634c4b7b93300da7ab948ee11a93a","library":false}</design_definition>
        <design_topic_id>13726a5df8451300964f8ada0264c07c</design_topic_id>
        <name>Check Case Status</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-08-03 21:04:44</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>3a1153dbdbda1010a458cd3f299619f3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_3a1153dbdbda1010a458cd3f299619f3</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-08-03 21:04:44</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
