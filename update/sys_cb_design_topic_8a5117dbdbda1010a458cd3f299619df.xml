<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Get Help with a Product">c25117dbdbda1010a458cd3f299619dc</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"84a7bf6f528c4fe88c53e615bdfcd09c","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"84a7bf6f528c4fe88c53e615bdfcd09c"}],"goals":[{"name":"Create Product Case","trigger_id":"84a7bf6f528c4fe88c53e615bdfcd09c","nodes":[{"type":"StartGoal","goal_id":"43c725f02b784d38b9391f2838442529","greeting_msg":{"type":"String","mode":"string","value":""},"id":"e130b93ade6447c692d39959cb61ba9e","name":"Start","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"TerminateGoal","goal_id":"43c725f02b784d38b9391f2838442529","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"330321d11f67408db2ae1b798b8f94b1","name":"End","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"a9ef3ac6dc84443ba6958e0d08fe987d","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Please briefly describe your issue or question\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"optional":false,"id":"bee6092b90304a33b0f709a01192af93","name":"Short Description","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","library_topic_name":"Create Case","library_topic_id":"cd576555b767330024f1b948ee11a91f","parameter-mappings":[{"parameter-name":"short_description","value":{"type":"String","mode":"script","value":"(function execute() {\n   if(!gs.nil(vaSystem.getSearchText())){\n        return String(vaSystem.getSearchText());\n    }\n    return String(vaInputs.short_description.getValue());\n})()\n"}},{"parameter-name":"description","value":{"type":"String","mode":"script","value":"(function execute() {\n    if(!gs.nil(vaSystem.getSearchText())){\n        return String(vaInputs.short_description.getValue());\n    }\n    return '';\n})()\n"}},{"parameter-name":"account_sys_id","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"}},{"parameter-name":"contact_sys_id","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"}},{"parameter-name":"consumer_sys_id","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"case_sys_id","main_topic_mapped_variable_name":"case_sys_id"}],"id":"2494fa8b3b1f4a34bc5e9e509141e48b","name":"Create Case","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"LibraryCall","library_topic_name":"Update Case","library_topic_id":"8b976515b767330024f1b948ee11a982","parameter-mappings":[{"parameter-name":"case_sys_id","value":{"type":"String","mode":"string","value":"{{vaInputs.case_sys_id}}"}},{"parameter-name":"enable_product_update","value":{"type":"String","mode":"string","value":"true"}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"case_sys_id","main_topic_mapped_variable_name":"case_sys_id1"}],"id":"1b735ecb694348a19bb1ac7fbe3c688e","name":"Update Case","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"InputPrompt","variable_id":"d1cb02cc26de45029b5a2bb603860399","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"To help you further,Â would you like me to open a case?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"optional":false,"id":"efb4ee4d5ecd42dfbca09a091de9d554","name":"Confirm create case","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"true","expression":{"type":"Applicability","mode":"query","value":"confirm_create_case=true"},"id":"35eb813b475945188309b5b11a7a079a","name":"true"},{"type":"Branch","label":"false","expression":{"type":"Applicability","mode":"query","value":"confirm_create_case="},"id":"5164154c732f4731a4cb69193ff56a8f","name":"false"}],"id":"a1ac1e1142f2459c8fd6e406bff5a54c","goal_id":"43c725f02b784d38b9391f2838442529"},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"(0) I'm done","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.additional_action=='0';\n})()\n"},"id":"112a272a6b4547449f916493717c7be7","name":"(0) I'm done"},{"type":"Branch","label":"(1) update case","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.additional_action=='1';\n})()\n"},"id":"d220166fa3364eb2a3e04fb94a973f8a","name":"(1) update case"},{"type":"Branch","label":"(2) contact an agent","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaInputs.additional_action=='2';\n})()\n"},"id":"5305599423eb497e965effd7944fcbcf","name":"(2) contact an agent"}],"id":"ead4b1631c2f45f6bffa429ea150d992","goal_id":"43c725f02b784d38b9391f2838442529"},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    var gr = new GlideRecord(\"sn_customerservice_case\");\n    gr.get(vaVars.caseid);\n    return gs.getMessage(\"I'm now transferring you to an agent to help you with case {0}\" , vaInputs.created_case.number);\n})()\n"},"id":"41550449308c46faab821c8f10468940","name":"Connect to Agent Ack","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ScriptedAction","script":"(function execute() {\n    vaSystem.connectToAgent();\n})()\n","id":"152486547f8b47668600855f53921c90","name":"Connect to agent","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"read","read_mode":"variable","query":"sys_id={{vaInputs.case_sys_id}}","variable_id":"157274df8aab42a2b0f649792aceac21","id":"6d59c827a3934451b3ef102ce00f1005","name":"Created Case","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"glide_query","value":"sys_id={{vaInputs.case_sys_id}}"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"61b078df0fea4f12ba285770fa83b8f9","name":"Additional Action","goal_id":"43c725f02b784d38b9391f2838442529","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"0e29eb8bd09141459fb5f82f30018855","message":{"type":"String","mode":"string","value":"Would you like to:"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","name":"","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute() {\n    var options = [];\n    options.push({ 'value': '1', 'label': gs.getMessage('Add more information to case')});\n    options.push({ 'value': '2', 'label': gs.getMessage('Contact an agent') });\n    options.push({ 'value': '0', 'label': gs.getMessage('I\\'m done') });\n    return options;    \n})()\n","no_options_found_message":{"type":"String","mode":"string","value":"No Additional Actions found!"},"condition":{"type":"Condition","mode":"external_script","value":"(function execute() {\n    var options = [];\n    options.push({ 'value': '1', 'label': gs.getMessage('Add more information to case')});\n    options.push({ 'value': '2', 'label': gs.getMessage('Contact an agent') });\n    options.push({ 'value': '0', 'label': gs.getMessage('I\\'m done') });\n    return options;    \n})()\n"}},{"type":"LibraryCall","library_topic_name":"Contextual Search","library_topic_id":"d9dec393b3973300dbbf6030c6a8dc27","parameter-mappings":[{"parameter-name":"context","value":{"type":"String","mode":"string","value":"5e973112f8455300964f8ada0264c0a5"}},{"parameter-name":"query","value":{"type":"String","mode":"string","value":"{{vaInputs.short_description}}"}},{"parameter-name":"portal","value":{"type":"String","mode":"string","value":"{{vaVars.portal}}"}},{"parameter-name":"kb_knowledge_base","value":{"type":"String","mode":"script","value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       var result;\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"}}],"return-value-mappings":[{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"results_returned","main_topic_mapped_variable_name":"results_returned"},{"main_topic_variable_namespace":"vaInputs","library_topic_return_parameter_name":"results_helpful","main_topic_mapped_variable_name":"results_helpful"}],"id":"64cc79cab1374b41864f87e58085a5d7","name":"Contextual Search","goal_id":"43c725f02b784d38b9391f2838442529"},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Create Case","expression":{"type":"Applicability","mode":"query","value":"results_helpful=false"},"id":"42aeecd2b3ec484f8d61e50aa8c37089","name":"Create Case"},{"type":"Branch","label":"Done","expression":{"type":"Applicability","mode":"query","value":"results_helpful=true"},"id":"18da5312e3b24e7381119152e1e8ffb2","name":"Done"}],"id":"3b5fb22de7ac49ba98b4e8e44d654be6","goal_id":"43c725f02b784d38b9391f2838442529"}],"edges":[{"type":"Edge","source_node_id":"6d59c827a3934451b3ef102ce00f1005","target_node_id":"61b078df0fea4f12ba285770fa83b8f9","id":"980326f87047498d97cc8fe92d24fb39"},{"type":"Edge","source_node_id":"ead4b1631c2f45f6bffa429ea150d992","target_node_id":"330321d11f67408db2ae1b798b8f94b1","branch_id":"112a272a6b4547449f916493717c7be7","id":"4c671e3057bf4c89adde89a76f1a5d45","name":"112a272a6b4547449f916493717c7be7"},{"type":"Edge","source_node_id":"a1ac1e1142f2459c8fd6e406bff5a54c","target_node_id":"2494fa8b3b1f4a34bc5e9e509141e48b","branch_id":"35eb813b475945188309b5b11a7a079a","id":"1f68dc994bd54adca21350da54d9b73b","name":"35eb813b475945188309b5b11a7a079a"},{"type":"Edge","source_node_id":"e130b93ade6447c692d39959cb61ba9e","target_node_id":"bee6092b90304a33b0f709a01192af93","id":"73830c5687834c84af8ade36cac563a8"},{"type":"Edge","source_node_id":"1b735ecb694348a19bb1ac7fbe3c688e","target_node_id":"61b078df0fea4f12ba285770fa83b8f9","id":"2e8abc77e6ef45b680cc8f8e0c02ad34"},{"type":"Edge","source_node_id":"efb4ee4d5ecd42dfbca09a091de9d554","target_node_id":"a1ac1e1142f2459c8fd6e406bff5a54c","id":"628965b34b0d4b77922c15e727011131"},{"type":"Edge","source_node_id":"a1ac1e1142f2459c8fd6e406bff5a54c","target_node_id":"330321d11f67408db2ae1b798b8f94b1","branch_id":"5164154c732f4731a4cb69193ff56a8f","id":"e4ecef6877284199972c1bdc718d9341","name":"5164154c732f4731a4cb69193ff56a8f"},{"type":"Edge","source_node_id":"ead4b1631c2f45f6bffa429ea150d992","target_node_id":"1b735ecb694348a19bb1ac7fbe3c688e","branch_id":"d220166fa3364eb2a3e04fb94a973f8a","id":"fbea61b176654d06893fc1c6d831974a","name":"d220166fa3364eb2a3e04fb94a973f8a"},{"type":"Edge","source_node_id":"ead4b1631c2f45f6bffa429ea150d992","target_node_id":"41550449308c46faab821c8f10468940","branch_id":"5305599423eb497e965effd7944fcbcf","id":"731d9e8559dc4eabbd2b0802d4451ca7","name":"5305599423eb497e965effd7944fcbcf"},{"type":"Edge","source_node_id":"41550449308c46faab821c8f10468940","target_node_id":"152486547f8b47668600855f53921c90","id":"3fc94e51978a47f9a1fac47355a383d7"},{"type":"Edge","source_node_id":"152486547f8b47668600855f53921c90","target_node_id":"330321d11f67408db2ae1b798b8f94b1","id":"c1a04966685d4e9383810c5e4ac848e6"},{"type":"Edge","source_node_id":"2494fa8b3b1f4a34bc5e9e509141e48b","target_node_id":"6d59c827a3934451b3ef102ce00f1005","id":"9b2c1ddbb3694e93bc466d56f79740e3"},{"type":"Edge","source_node_id":"61b078df0fea4f12ba285770fa83b8f9","target_node_id":"ead4b1631c2f45f6bffa429ea150d992","id":"755f0bb4cea54d2c9416b4b527cb930e"},{"type":"Edge","source_node_id":"bee6092b90304a33b0f709a01192af93","target_node_id":"64cc79cab1374b41864f87e58085a5d7","id":"1515938d6604484f95ada60e0104269e"},{"type":"Edge","source_node_id":"64cc79cab1374b41864f87e58085a5d7","target_node_id":"3b5fb22de7ac49ba98b4e8e44d654be6","id":"6f75209c222448e8bb15fd6ea0c2d770"},{"type":"Edge","source_node_id":"3b5fb22de7ac49ba98b4e8e44d654be6","target_node_id":"efb4ee4d5ecd42dfbca09a091de9d554","branch_id":"42aeecd2b3ec484f8d61e50aa8c37089","id":"a004ae2279494aa9860049c8107ad4f9","name":"42aeecd2b3ec484f8d61e50aa8c37089"},{"type":"Edge","source_node_id":"3b5fb22de7ac49ba98b4e8e44d654be6","target_node_id":"330321d11f67408db2ae1b798b8f94b1","branch_id":"18da5312e3b24e7381119152e1e8ffb2","id":"6ed75493f8e44f3db44b13df51c99f32","name":"18da5312e3b24e7381119152e1e8ffb2"}],"id":"43c725f02b784d38b9391f2838442529"}],"script_variables":[{"type":"String","name":"imageId","id":"a0d58da104c3453a848e39dd9f199c9e"},{"type":"String","name":"index","id":"8c3e9c365a024f059e3cee2335ce7167"},{"type":"String","name":"productlist","id":"2e80ffcce6be47438cb447b9a3012bd9"},{"type":"String","name":"assetlist","id":"932c96a3f644496099035169969b4bb4"},{"type":"String","name":"tablename","value":{"type":"String","mode":"string","value":"sn_customerservice_case"},"id":"3b11ca3bc43845ec901ad791f4932f89"},{"type":"String","name":"kbqalist","id":"17479362b58b4d54bd1b3127758c0514"},{"type":"String","name":"LiveAgent_case","value":{"type":"String","mode":"string"},"id":"de5b9dcaaaab42aa856133a330c0e52b"},{"type":"String","name":"portal","value":{"type":"String","mode":"script","value":"(function execute() {\n    return vaContext.portal == undefined ? null: vaContext.portal;\n})()"},"id":"4f87300bd03b41eda840b65b1cf4c918"}],"glide_variables":[{"type":"String","name":"short_description","id":"a9ef3ac6dc84443ba6958e0d08fe987d"},{"type":"True/False","id":"d1cb02cc26de45029b5a2bb603860399","name":"confirm_create_case"},{"type":"String","name":"case_sys_id","id":"5fdb6b987f7f41699070346cdcc88b92"},{"type":"String","name":"case_sys_id1","id":"43f14b0fbc504de99f2b62267acdd3a4"},{"type":"Reference","table":"sn_customerservice_case","id":"157274df8aab42a2b0f649792aceac21","name":"created_case"},{"type":"Choice","choices":[],"id":"0e29eb8bd09141459fb5f82f30018855","name":"additional_action","table":""},{"type":"String","name":"results_returned","id":"caee9a53837244feb6f5b997b1801629"},{"type":"String","name":"results_helpful","id":"2668c0737c91407ea25529b09799b8e8"},{"type":"Reference","table":"sys_user","id":"current-user","name":"user"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":["sn_customerservice.customer","sn_customerservice.consumer","virtual_agent_admin","admin"],"scope":"cf50453a53f41300f4d2ddeeff7b12cb","domain":"global","id":"4eb2a25df8451300964f8ada0264c0c5","name":"Get Help with a Product","key_phrases":["Get Help with a Product","case","product problem","report problem","problem","report","product"],"nlu_provider":"64c023c17300330021a044764df6a70e","nlu_model":"sn_csm_nlu_Customer_Service_NLU_Model","nlu_model_label":"","nlu_intent":"GetHelpWithProduct","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"b28634c4b7b93300da7ab948ee11a93a","library":false}</design_definition>
        <design_topic_id>4eb2a25df8451300964f8ada0264c0c5</design_topic_id>
        <name>Get Help with a Product</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-08-03 21:05:46</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>8a5117dbdbda1010a458cd3f299619df</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_design_topic_8a5117dbdbda1010a458cd3f299619df</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-08-03 21:05:46</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
